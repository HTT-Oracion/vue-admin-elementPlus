{"version":3,"sources":["webpack:///./src/views/Home/index.vue","webpack:///./src/api/home/index.js","webpack:///./src/views/Home/index.vue?6887","webpack:///./src/views/Home/index.vue?a089"],"names":["class","type","dialogVisible","title","width","footer","logout","isCollapse","background-color","active-text-color","text-color","unique-opened","router","collapse","collapse-transition","default-active","activePath","meunList","item","index","id","key","iconList","authName","children","subitem","path","changeActiveItem","loading","getMenuRequest","axios","get","MENUS_LIST","data","meta","status","errMsg","console","log","name","setup","store","125","103","101","102","145","state","active","commit","getMeunList","render","__scopeId"],"mappings":"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","file":"js/home.d95d9f6f.js","sourcesContent":["<template>\r\n  <el-container class=\"home-container\">\r\n    <el-header>\r\n      <span>后台管理系统</span>\r\n      <el-button type=\"info\" @click=\"dialogVisible = true\">退出</el-button>\r\n      <!-- 提示框 -->\r\n      <el-dialog title=\"确认退出吗\" v-model=\"dialogVisible\" width=\"20%\">\r\n        <span>是否确认退出?</span>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"danger\" @click=\"logout\">确 定</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </el-header>\r\n    <el-container>\r\n      <!-- 侧边栏 -->\r\n      <el-aside :width=\"isCollapse ? '64px' : '200px'\">\r\n        <!-- 切换按钮 -->\r\n        <div class=\"toggle-btn\" @click=\"isCollapse = !isCollapse\">|||</div>\r\n        <el-menu\r\n          background-color=\"#323744\"\r\n          active-text-color=\"#369bff\"\r\n          text-color=\"#fff\"\r\n          unique-opened\r\n          router\r\n          :collapse=\"isCollapse\"\r\n          :collapse-transition=\"false\"\r\n          :default-active=\"activePath\"\r\n        >\r\n          <el-submenu\r\n            :index=\"item.id + ''\"\r\n            v-for=\"item in meunList\"\r\n            :key=\"item.id\"\r\n          >\r\n            <template #title>\r\n              <i :class=\"iconList[item.id]\"></i>\r\n              <span v-show=\"!isCollapse\">\r\n                {{ item.authName }}\r\n              </span>\r\n            </template>\r\n            <el-menu-item\r\n              v-for=\"subitem in item.children\"\r\n              :index=\"'/' + subitem.path\"\r\n              :key=\"subitem.id\"\r\n              @click=\"changeActiveItem('/' + subitem.path)\"\r\n            >\r\n              <template #title>\r\n                <i class=\"el-icon-menu\"></i>\r\n                <span>{{ subitem.authName }}</span>\r\n              </template>\r\n            </el-menu-item>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </el-aside>\r\n      <el-main v-loading=\"loading\">\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n<script>\r\nimport { onMounted, reactive, toRefs, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { getMenuRequest } from '@/api/home'\r\nimport { getItem } from '@/utils/storage'\r\nimport { ACTIVE_PATH } from '@/utils/constants'\r\nimport { logoutRequest } from '@/api/login'\r\nexport default {\r\n  name: 'Home',\r\n  setup () {\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const iconList = {\r\n      125: 'el-icon-user-solid',\r\n      103: 'el-icon-star-on',\r\n      101: 'el-icon-s-goods',\r\n      102: 'el-icon-s-order',\r\n      145: 'el-icon-s-data'\r\n    }\r\n    const state = reactive({\r\n      meunList: [],\r\n      isCollapse: false,\r\n      dialogVisible: false,\r\n      activePath: '',\r\n      loading: false\r\n    })\r\n    const logout = () => {\r\n      logoutRequest(router)\r\n    }\r\n    const changeActiveItem = (active) => {\r\n      store.commit('setActivePath', active)\r\n      state.activePath = active\r\n    }\r\n    const getMeunList = async () => {\r\n      state.meunList = await getMenuRequest()\r\n    }\r\n    watch(() => store.state.loading, () => {\r\n      state.loading = store.state.loading\r\n    })\r\n    onMounted(() => {\r\n      getMeunList()\r\n      state.activePath = getItem(ACTIVE_PATH) || ''\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      iconList,\r\n      logout,\r\n      changeActiveItem\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.home-container {\r\n  height: 100%;\r\n  .el-header {\r\n    background: #373c41;\r\n    color: #fff;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 24px;\r\n    span {\r\n      margin: 10px auto;\r\n    }\r\n  }\r\n  .el-aside {\r\n    text-align: center;\r\n    background-color: #323744;\r\n    color: #fff;\r\n    i {\r\n      margin-right: 10px;\r\n    }\r\n    .el-menu {\r\n      border-right: none;\r\n    }\r\n    .toggle-btn {\r\n      height: 20px;\r\n      line-height: 20px;\r\n      background-color: #485164;\r\n      color: #fff;\r\n      text-align: center;\r\n      letter-spacing: 0.2em;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .el-main {\r\n    background-color: #eaedf2;\r\n  }\r\n}\r\n</style>","import axios from '../request'\r\nimport { errMsg } from '@/utils/viewTools'\r\nimport { MENUS_LIST } from '@/utils/constants'\r\n\r\nconst getMenuRequest = async () => {\r\n  const { data } = await axios.get(MENUS_LIST)\r\n  if (data.meta.status !== 200) return errMsg('获取侧边栏菜单失败')\r\n  console.log('menusList', data.data);\r\n  return data.data\r\n}\r\n\r\nexport {\r\n  getMenuRequest\r\n}","import { render } from \"./index.vue?vue&type=template&id=0adc025e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0adc025e&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0adc025e\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0adc025e&lang=less&scoped=true\""],"sourceRoot":""}