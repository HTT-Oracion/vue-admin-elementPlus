{"version":3,"sources":["webpack:///./src/views/Goods/List.vue","webpack:///./src/views/Goods/List.vue?b5ed"],"names":["firstName","secondName","gutter","span","queryInfo","query","placeholder","clearable","getGoodsList","append","icon","type","toAddPage","data","goodsList","border","stripe","ref","label","prop","width","default","format","scope","row","add_time","size","handleEdit","handleDelete","goods_id","handleSizeChange","handleCurrentChange","current-page","pagenum","page-sizes","page-size","pagesize","layout","total","background","name","components","MyBreadcrumb","setup","router","tableRef","state","dateTime","push","id","newSize","newPage","render"],"mappings":"+JAkBqD,Q,+BA4B1C,O,+BAQA,O,kgBArDT,yBAAkE,GAAnDA,UAAU,OAAOC,WAAW,SAC3C,yBAqEU,Q,8BApER,iBAiBS,CAjBT,yBAiBS,GAjBAC,OAAQ,IAAE,C,8BACjB,iBAYS,CAZT,yBAYS,GAZAC,KAAM,GAAC,C,8BACd,iBAUW,CAVX,yBAUW,G,WATA,EAAAC,UAAUC,M,qDAAV,EAAAD,UAAUC,MAAK,IACxBC,YAAY,QACZC,UAAA,GACC,QAAO,EAAAC,aACP,QAAK,sBAAQ,EAAAA,aAAY,Y,CAEfC,OAAM,sBACf,iBAAmE,CAAnE,yBAAmE,GAAxDC,KAAK,iBAAkB,QAAO,EAAAF,c,6EAI/C,yBAES,GAFAL,KAAM,GAAC,C,8BACd,iBAA6D,CAA7D,yBAA6D,GAAlDQ,KAAK,UAAW,QAAO,EAAAC,W,+BAAW,iBAAI,C,8CAGrD,yBAsCW,GAtCAC,KAAM,EAAAC,UAAWC,OAAA,GAAOC,OAAA,GAAOC,IAAI,Y,+BAC5C,iBAA0D,CAA1D,yBAA0D,GAAzCN,KAAK,QAAQO,MAAM,MACpC,yBAAkE,GAAjDA,MAAM,OAAOC,KAAK,eACnC,yBAImB,GAHjBD,MAAM,OACNC,KAAK,cACLC,MAAM,SAER,yBAImB,GAHjBF,MAAM,OACNC,KAAK,eACLC,MAAM,SAER,yBAIkB,GAJDF,MAAM,OAAOE,MAAM,S,CACvBC,QAAO,sBAChB,SADuB,GACvB,MADuB,C,0DACpB,EAAAC,OAAOC,EAAMC,IAAIC,WAAQ,O,MAGhC,yBAmBkB,GAnBDP,MAAM,KAAKE,MAAM,S,CACrBC,QAAO,sBAChB,SADuB,GACvB,MADuB,CACvB,yBAOC,GANCK,KAAK,OACLf,KAAK,UACLD,KAAK,eACJ,QAAK,mBAAE,EAAAiB,WAAWJ,EAAMC,O,+BAC1B,iBACG,C,6BAEJ,yBAOC,GANCE,KAAK,OACLf,KAAK,SACLD,KAAK,iBACJ,QAAK,mBAAE,EAAAkB,aAAaL,EAAMC,IAAIK,Y,+BAChC,iBACG,C,4DAKV,yBAUgB,GATb,aAAa,EAAAC,iBACb,gBAAgB,EAAAC,oBAChBC,eAAc,EAAA5B,UAAU6B,QACxBC,aAAY,CAAC,GAAI,IACjBC,YAAW,EAAA/B,UAAUgC,SACtBC,OAAO,0CACNC,MAAO,EAAAA,MACRC,WAAA,I,qLAYS,GACbC,KAAM,QACNC,WAAY,CACVC,eAAA,MAEFC,MALa,WAMX,IAAMC,EAAS,iBACTC,EAAW,iBAAI,IACfC,EAAQ,sBAAS,CACrBhC,UAAW,GACXV,UAAW,CACTC,MAAO,GACP4B,QAAS,EACTG,SAAU,IAEZE,MAAO,IAEHhB,EAAS,SAACyB,GACd,OAAO,eAAWA,IAGdnC,EAAY,WAChBgC,EAAOI,KAAK,eAIRrB,EAAa,WACjB,eAAY,aAGRC,EAAW,yDAAI,WAAOqB,GAAP,uGACA,eAAkBA,GADlB,OACbpC,EADa,OAEnBA,GAAQL,IAFW,2CAAJ,sDAKXsB,EAAmB,SAACoB,GACxBJ,EAAM1C,UAAUgC,SAAWc,EAC3B1C,KAEIuB,EAAsB,SAACoB,GAC3BL,EAAM1C,UAAU6B,QAAUkB,EAC1B3C,KAEIA,EAAW,yDAAI,wHACgB,eAAgBsC,EAAM1C,WADtC,gBACXU,EADW,EACXA,UAAWwB,EADA,EACAA,MACnBQ,EAAMhC,UAAYA,EAClBgC,EAAMR,MAAQA,EAHK,2CAAJ,qDASjB,OAJA,wBAAU,WACR9B,IACA,eAAQqC,MAEV,iCACK,oBAAOC,IADZ,IAEED,WACAlB,aACAC,eACAE,mBACAC,sBACAvB,eACAI,YACAU,aC1IN,EAAO8B,OAASA,EAED","file":"js/goods.8c9f03eb.js","sourcesContent":["<template>\r\n  <my-breadcrumb firstName=\"商品管理\" secondName=\"商品列表\"></my-breadcrumb>\r\n  <el-card>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"8\">\r\n        <el-input\r\n          v-model=\"queryInfo.query\"\r\n          placeholder=\"请输入内容\"\r\n          clearable\r\n          @clear=\"getGoodsList\"\r\n          @keyup.enter=\"getGoodsList\"\r\n        >\r\n          <template #append>\r\n            <el-button icon=\"el-icon-search\" @click=\"getGoodsList\"></el-button>\r\n          </template>\r\n        </el-input>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button type=\"primary\" @click=\"toAddPage\">添加商品</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table :data=\"goodsList\" border stripe ref=\"tableRef\">\r\n      <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n      <el-table-column label=\"商品名称\" prop=\"goods_name\"></el-table-column>\r\n      <el-table-column\r\n        label=\"商品价格\"\r\n        prop=\"goods_price\"\r\n        width=\"95px\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        label=\"商品重量\"\r\n        prop=\"goods_weight\"\r\n        width=\"80px\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"创建时间\" width=\"140px\">\r\n        <template #default=\"scope\">\r\n          {{ format(scope.row.add_time) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200px\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"handleEdit(scope.row)\"\r\n          >\r\n            编辑</el-button\r\n          >\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"handleDelete(scope.row.goods_id)\"\r\n          >\r\n            删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"queryInfo.pagenum\"\r\n      :page-sizes=\"[10, 12]\"\r\n      :page-size=\"queryInfo.pagesize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      background\r\n    >\r\n    </el-pagination>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, ref, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { getGoodsRequest, deleteGoodRequest } from '@/api/goods'\r\nimport { resetTh, unDeveloped, formatDate } from '@/utils/viewTools'\r\nimport MyBreadcrumb from '@/components/MyBreadcrumb'\r\nexport default {\r\n  name: 'Goods',\r\n  components: {\r\n    MyBreadcrumb\r\n  },\r\n  setup () {\r\n    const router = useRouter()\r\n    const tableRef = ref('')\r\n    const state = reactive({\r\n      goodsList: [],\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      total: 0\r\n    })\r\n    const format = (dateTime) => {\r\n      return formatDate(dateTime)\r\n    }\r\n    // 前往添加页面\r\n    const toAddPage = () => {\r\n      router.push('/goods/add')\r\n    }\r\n    // 操作按钮\r\n    // 编辑\r\n    const handleEdit = () => {\r\n      unDeveloped('该功能暂未开发!')\r\n    }\r\n    // 删除\r\n    const handleDelete = async (id) => {\r\n      const data = await deleteGoodRequest(id)\r\n      data && getGoodsList()\r\n    }\r\n    // 分页器\r\n    const handleSizeChange = (newSize) => {\r\n      state.queryInfo.pagesize = newSize\r\n      getGoodsList()\r\n    }\r\n    const handleCurrentChange = (newPage) => {\r\n      state.queryInfo.pagenum = newPage\r\n      getGoodsList()\r\n    }\r\n    const getGoodsList = async () => {\r\n      const { goodsList, total } = await getGoodsRequest(state.queryInfo)\r\n      state.goodsList = goodsList\r\n      state.total = total\r\n    }\r\n    onMounted(() => {\r\n      getGoodsList()\r\n      resetTh(tableRef)\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      tableRef,\r\n      handleEdit,\r\n      handleDelete,\r\n      handleSizeChange,\r\n      handleCurrentChange,\r\n      getGoodsList,\r\n      toAddPage,\r\n      format\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./List.vue?vue&type=template&id=68bfd77a\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}